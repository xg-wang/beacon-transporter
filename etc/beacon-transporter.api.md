## API Report File for "beacon-transporter"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { gzipSync } from 'fflate';

// @public (undocumented)
export interface BeaconConfig {
    // (undocumented)
    retry: {
        limit: number;
        headerName?: string;
        inMemoryRetryStatusCodes?: number[];
        persist?: boolean;
        persistRetryStatusCodes?: number[];
        calculateRetryDelay?: (countLeft: number) => number;
    };
}

// @public (undocumented)
export type BeaconFunc = (url: string, body: string, headers?: Record<string, string>) => Promise<RetryRejection | RequestSuccess | undefined>;

// @public (undocumented)
export interface BeaconInit {
    // (undocumented)
    beaconConfig?: BeaconConfig;
    // (undocumented)
    compress?: boolean;
    // (undocumented)
    retryDBConfig?: RetryDBConfig;
}

// @public (undocumented)
export function createBeacon(init?: BeaconInit): {
    beacon: BeaconFunc;
    database: RetryDB;
};

export { gzipSync }

// @public (undocumented)
export interface NetworkRetryRejection {
    // (undocumented)
    statusCode: undefined;
    // (undocumented)
    type: 'network';
}

// @public (undocumented)
export interface RequestSuccess {
    // (undocumented)
    statusCode: 200;
    // (undocumented)
    type: 'success';
}

// @public (undocumented)
export interface ResponseRetryRejection {
    // (undocumented)
    statusCode: number;
    // (undocumented)
    type: 'response';
}

// @public (undocumented)
export class RetryDB {
    constructor(config: RetryDBConfig, compress?: boolean);
    // (undocumented)
    clearQueue(): Promise<void>;
    // (undocumented)
    static hasSupport: boolean;
    // Warning: (ae-forgotten-export) The symbol "QueueNotificationConfig" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    notifyQueue(config: QueueNotificationConfig): void;
    // (undocumented)
    onClear(cb: () => void): void;
    // (undocumented)
    peekBackQueue(count: number): Promise<RetryEntry[]>;
    // (undocumented)
    peekQueue(count: number): Promise<RetryEntry[]>;
    // Warning: (ae-forgotten-export) The symbol "RetryEntry" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    pushToQueue(entry: RetryEntry): void;
    // (undocumented)
    removeOnClear(cb: () => void): void;
}

// @public (undocumented)
export interface RetryDBConfig {
    // (undocumented)
    attemptLimit: number;
    // (undocumented)
    batchEvictionNumber: number;
    // (undocumented)
    dbName: string;
    // (undocumented)
    headerName?: string;
    // (undocumented)
    maxNumber: number;
    // (undocumented)
    throttleWait: number;
    // (undocumented)
    useIdle?: () => boolean;
}

// @public (undocumented)
export type RetryRejection = NetworkRetryRejection | ResponseRetryRejection;

```
